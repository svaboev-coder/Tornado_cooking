# Инструкция по развертыванию приложения Tornado Cooking

## Требования

- Docker Desktop (Windows/Mac) или Docker Engine (Linux)
- Git (для клонирования репозитория)

## Быстрый запуск

1. **Клонируйте репозиторий:**
   ```bash
   git clone <URL_РЕПОЗИТОРИЯ>
   cd Tornado_cooking
   ```

2. **Создайте файл .env с вашими данными для подключения к базе:**
   ```bash
   # Создайте файл .env в корневой папке проекта
   DB_HOST=postgresql-tornado.alwaysdata.net
   DB_PORT=5432
   DB_USER=ваш_пользователь
   DB_PASSWORD=ваш_пароль
   DB_NAME=tornado_dining
   ```

3. **Запустите приложение:**
   ```bash
   docker-compose up -d
   ```

4. **Откройте в браузере:**
   - Основное приложение: http://localhost:8080
   - Клиентское приложение: http://localhost:8081
   - Административное приложение: http://localhost:5000

## Управление приложением

### Запуск
```bash
docker-compose up -d
```

### Остановка
```bash
docker-compose down
```

### Просмотр логов
```bash
# Все приложения
docker-compose logs

# Конкретное приложение
docker-compose logs app
docker-compose logs client
docker-compose logs admin
```

### Пересборка образов
```bash
docker-compose build --no-cache
docker-compose up -d
```

## Структура приложения

- **Основное приложение (порт 8080)**: Главный интерфейс системы
- **Клиентское приложение (порт 8081)**: Интерфейс для клиентов
- **Административное приложение (порт 5000)**: Панель администратора

## База данных

Приложение использует PostgreSQL базу данных на alwaysdata.com
Все данные хранятся в облаке и доступны из любого места.

## Резервные копии

Резервные копии создаются автоматически в папке `backups/`

## Устранение неполадок

### Проблема: "Сайт недоступен"
1. Проверьте, что Docker запущен
2. Проверьте статус контейнеров: `docker-compose ps`
3. Проверьте логи: `docker-compose logs`

### Проблема: "Ошибка подключения к базе данных"
1. Проверьте правильность данных в файле `.env`
2. Убедитесь, что база данных доступна

### Проблема: "Порт занят"
Измените порты в файле `docker-compose.yml`:
```yaml
ports:
  - "8082:5000"  # Вместо 8080:5000
```

## Контакты для поддержки

При возникновении проблем обращайтесь к разработчику.
